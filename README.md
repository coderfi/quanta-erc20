# Quanta Token Generation 


## Deployment Flow

- Deploy `QuantaToken.sol`. The listing can be done by a standard private key or a multi-sig key, which is the owner of the contract. The Quanta token, inheriting from custom PausableToken, gets deployed by this contract. An admin account address and the total amount of tokens are passed and used to initialize the Quanta token. Token transfers are initially only allowed for the owner of the contract and admin account.

- The pre-minted tokens are initially assigned to the owner's account. The admin account may also transfer tokens initially. No other public account can send/receive during this period.
 
- The admin address should distribute the tokens to individual contributor accounts during this period.

- At some time `T1`, `token.pause(false, false)` may be called which will enable transfers of the zilliqa token for everyone.

- At some time in the future, `token.pause(true, true)` may be called by the owner. This would stop all transfers for everyone (public, admin and owner). Only token burning would be allowed at this stage.

## Deployment Steps

### Deploy using truffle: 

To test on the Ropsten network, execute `truffle migrate --network ropsten` which uses the existing API keys in `/truffle.js`.

To deploy on mainnet, execute `truffle migrate`.

## Testing

Install https://github.com/trufflesuite/ganache

```
truffle test --network develop
```

## Per module description
The system has 1 main module - the token module.

### Token
Implemented in `QuantaToken.sol`. The token is fully compatible with ERC20 standard, with some additions:

1. It has a burning functionality that allows user to burn their tokens.
To optimize gas cost, an auxiliary `burnFrom` function was also implemented.
This function allows sender to burn tokens that were approved by a spender.

2. Only the owner and admin accounts are allowed to transfer tokens before the transfer period starts. No token transfer would be allowed after calling `pause(true, true)` in the future.

### Pause States

There are 2 flags, `pausedPublic` and `pausedOwnerAdmin`.
1. In the initial stage, `pausedPublic` is `true` and `pausedOwnerAdmin` is `false`. This means only the owner and admin can transfer tokens.
2. In the second stage, `pausedPublic` and `pausedOwnerAdmin` both are `false`. Everybody can transfer tokens in this stage.
3. In the final stage (lock up), `pausedPublic` and `pausedOwnerAdmin` both are `true`. Nobody can now transfer tokens.
4. Tokens can be burnt at any time by anyone.

2. Only the owner and admin accounts are allowed to transfer tokens before the transfer period starts. No token transfer would be allowed after calling `pause(true, true)` in the future.


## Use of zeppelin code
We use open-zepplin code for `SafeMath`, `Ownable`, `StandardToken` and `Pausable` logic.

0x0833030c730792fdd9b77cc54f43d7921c356bf1

0xba420ef5d725361d8fdc58cb1e4fa62eda9ec990


QuantaToken.deployed().then ( (e) => e.allowance("0x0833030c730792fdd9b77cc54f43d7921c356bf1","0xba420ef5d725361d8fdc58cb1e4fa62eda9ec990"));

QuantaToken.deployed().then ( (e) => e.approve("0xba420ef5d725361d8fdc58cb1e4fa62eda9ec990", 100000 * (10 ** 12)));


bytecode:

60606040526003805460a860020a60ff021960a060020a60ff021990911674010000000000000000000000000000000000000000171690556815af1d78b58c400000600555341561004f57600080fd5b60038054600160a060020a03191633600160a060020a031690811790915560055460008281526001602052604080822083905590917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef915190815260200160405180910390a3610db4806100c46000396000f3006060604052600436106100fb5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde038114610100578063095ea7b31461018a57806318160ddd146101c057806323b872dd146101e557806324bb7c261461020d5780632ff2e9dc14610220578063313ce5671461023357806364779ad71461025c578063661884631461026f57806370a08231146102915780638da5cb5b146102b057806395d89b41146102df578063a9059cbb146102f2578063d73dd62314610314578063dd62ed3e14610336578063ddeb50941461035b578063f2fde38b1461037a578063f851a44014610399575b600080fd5b341561010b57600080fd5b6101136103ac565b60405160208082528190810183818151815260200191508051906020019080838360005b8381101561014f578082015183820152602001610137565b50505050905090810190601f16801561017c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561019557600080fd5b6101ac600160a060020a03600435166024356103e3565b604051901515815260200160405180910390f35b34156101cb57600080fd5b6101d3610452565b60405190815260200160405180910390f35b34156101f057600080fd5b6101ac600160a060020a0360043581169060243516604435610458565b341561021857600080fd5b6101ac6104a5565b341561022b57600080fd5b6101d36104b5565b341561023e57600080fd5b6102466104bb565b60405160ff909116815260200160405180910390f35b341561026757600080fd5b6101ac6104c0565b341561027a57600080fd5b6101ac600160a060020a03600435166024356104d0565b341561029c57600080fd5b6101d3600160a060020a0360043516610538565b34156102bb57600080fd5b6102c3610553565b604051600160a060020a03909116815260200160405180910390f35b34156102ea57600080fd5b610113610562565b34156102fd57600080fd5b6101ac600160a060020a0360043516602435610599565b341561031f57600080fd5b6101ac600160a060020a03600435166024356105e4565b341561034157600080fd5b6101d3600160a060020a036004358116906024351661064c565b341561036657600080fd5b61037860043515156024351515610677565b005b341561038557600080fd5b610378600160a060020a0360043516610765565b34156103a457600080fd5b6102c3610800565b60408051908101604052600681527f5155414e54410000000000000000000000000000000000000000000000000000602082015281565b60035460009060a060020a900460ff16156104415760035460a860020a900460ff1615156100fb5760045433600160a060020a0390811691161480610436575060035433600160a060020a039081169116145b151561044157600080fd5b61044b838361080f565b9392505050565b60005481565b600082600160a060020a038116151561047057600080fd5b30600160a060020a031681600160a060020a03161415151561049157600080fd5b61049c85858561087b565b95945050505050565b60035460a060020a900460ff1681565b60055481565b600c81565b60035460a860020a900460ff1681565b60035460009060a060020a900460ff161561052e5760035460a860020a900460ff1615156100fb5760045433600160a060020a0390811691161480610523575060035433600160a060020a039081169116145b151561052e57600080fd5b61044b83836108e4565b600160a060020a031660009081526001602052604090205490565b600354600160a060020a031681565b60408051908101604052600481527f5144455800000000000000000000000000000000000000000000000000000000602082015281565b600082600160a060020a03811615156105b157600080fd5b30600160a060020a031681600160a060020a0316141515156105d257600080fd5b6105dc84846109de565b949350505050565b60035460009060a060020a900460ff16156106425760035460a860020a900460ff1615156100fb5760045433600160a060020a0390811691161480610637575060035433600160a060020a039081169116145b151561064257600080fd5b61044b8383610a46565b600160a060020a03918216600090815260026020908152604080832093909416825291909152205490565b60035433600160a060020a0390811691161461069257600080fd5b811580156106a257506001811515145b156106ac57600080fd5b6003805474ff0000000000000000000000000000000000000000191660a060020a841515021775ff000000000000000000000000000000000000000000191660a860020a831515021790557fa14d191ca4f53bfcf003c65d429362010a2d3d68bc0c50cce4bdc0fccf661fb082604051901515815260200160405180910390a17fc77636fc4a62a1fa193ef538c0b7993a1313a0d9c0a9173058cebcd3239ef7b581604051901515815260200160405180910390a15050565b60035433600160a060020a0390811691161461078057600080fd5b600160a060020a038116151561079557600080fd5b600354600160a060020a0380831691167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36003805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600454600160a060020a031681565b600160a060020a03338116600081815260026020908152604080832094871680845294909152808220859055909291907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259085905190815260200160405180910390a350600192915050565b60035460009060a060020a900460ff16156108d95760035460a860020a900460ff1615156100fb5760045433600160a060020a03908116911614806108ce575060035433600160a060020a039081169116145b15156108d957600080fd5b6105dc848484610aea565b600160a060020a0333811660009081526002602090815260408083209386168352929052908120548083111561094157600160a060020a033381166000908152600260209081526040808320938816835292905290812055610978565b610951818463ffffffff610c6c16565b600160a060020a033381166000908152600260209081526040808320938916835292905220555b600160a060020a0333811660008181526002602090815260408083209489168084529490915290819020547f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925915190815260200160405180910390a35060019392505050565b60035460009060a060020a900460ff1615610a3c5760035460a860020a900460ff1615156100fb5760045433600160a060020a0390811691161480610a31575060035433600160a060020a039081169116145b1515610a3c57600080fd5b61044b8383610c7e565b600160a060020a033381166000908152600260209081526040808320938616835292905290812054610a7e908363ffffffff610d7916565b600160a060020a0333811660008181526002602090815260408083209489168084529490915290819020849055919290917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591905190815260200160405180910390a350600192915050565b6000600160a060020a0383161515610b0157600080fd5b600160a060020a038416600090815260016020526040902054821115610b2657600080fd5b600160a060020a0380851660009081526002602090815260408083203390941683529290522054821115610b5957600080fd5b600160a060020a038416600090815260016020526040902054610b82908363ffffffff610c6c16565b600160a060020a038086166000908152600160205260408082209390935590851681522054610bb7908363ffffffff610d7916565b600160a060020a03808516600090815260016020908152604080832094909455878316825260028152838220339093168252919091522054610bff908363ffffffff610c6c16565b600160a060020a03808616600081815260026020908152604080832033861684529091529081902093909355908516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a35060019392505050565b600082821115610c7857fe5b50900390565b6000600160a060020a0383161515610c9557600080fd5b600160a060020a033316600090815260016020526040902054821115610cba57600080fd5b600160a060020a033316600090815260016020526040902054610ce3908363ffffffff610c6c16565b600160a060020a033381166000908152600160205260408082209390935590851681522054610d18908363ffffffff610d7916565b600160a060020a0380851660008181526001602052604090819020939093559133909116907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a350600192915050565b60008282018381101561044b57fe00a165627a7a723058208f019b3ec0a909d9333d19eecd92350f4fde6b3e4c4162b546b505eb10c204f50029